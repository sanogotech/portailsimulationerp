<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portail ERP Interactif</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #3498db;
      --accent-color: #e74c3c;
      --light-bg: #f8f9fa;
      --dark-bg: #343a40;
    }

    body {
      background-color: var(--light-bg);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .navbar {
      background-color: var(--primary-color);
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .navbar-brand {
      font-weight: 700;
      color: white;
    }

    .hero-section {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 4rem 0;
      margin-bottom: 3rem;
      border-radius: 0 0 20px 20px;
    }

    .card {
      border: none;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      height: 100%;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }

    .card-header {
      background-color: var(--primary-color);
      color: white;
      font-weight: 600;
    }

    .module-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: var(--secondary-color);
    }

    .btn-primary {
      background-color: var(--secondary-color);
      border: none;
    }

    .btn-primary:hover {
      background-color: #2980b9;
    }

    .btn-outline-primary {
      color: var(--secondary-color);
      border-color: var(--secondary-color);
    }

    .btn-outline-primary:hover {
      background-color: var(--secondary-color);
      color: white;
    }

    .simulation-container {
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
    }

    .process-step {
      position: relative;
      padding-left: 30px;
      margin-bottom: 20px;
    }

    .process-step:before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      width: 20px;
      height: 20px;
      background-color: var(--secondary-color);
      border-radius: 50%;
    }

    .process-step:after {
      content: "";
      position: absolute;
      left: 9px;
      top: 20px;
      width: 2px;
      height: 100%;
      background-color: var(--secondary-color);
    }

    .process-step:last-child:after {
      display: none;
    }

    .data-table {
      width: 100%;
      margin-bottom: 1rem;
    }

    .data-table th {
      background-color: var(--primary-color);
      color: white;
    }

    .highlight-box {
      background-color: rgba(52, 152, 219, 0.1);
      border-left: 4px solid var(--secondary-color);
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 0 5px 5px 0;
    }

    .linked-modules {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .linked-module {
      background-color: var(--light-bg);
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.9rem;
      color: var(--primary-color);
      border: 1px solid #ddd;
    }

    .tab-content {
      padding: 1.5rem 0;
    }

    footer {
      background-color: var(--dark-bg);
      color: white;
      padding: 2rem 0;
      margin-top: 3rem;
    }

    /* Animation pour les cartes */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .module-card {
      animation: fadeIn 0.5s ease forwards;
      opacity: 0;
    }

    /* Délai d'animation pour chaque carte */
    .module-card:nth-child(1) { animation-delay: 0.1s; }
    .module-card:nth-child(2) { animation-delay: 0.2s; }
    .module-card:nth-child(3) { animation-delay: 0.3s; }
    .module-card:nth-child(4) { animation-delay: 0.4s; }
    .module-card:nth-child(5) { animation-delay: 0.5s; }
    .module-card:nth-child(6) { animation-delay: 0.6s; }
    .module-card:nth-child(7) { animation-delay: 0.7s; }
    .module-card:nth-child(8) { animation-delay: 0.8s; }
    .module-card:nth-child(9) { animation-delay: 0.9s; }
    .module-card:nth-child(10) { animation-delay: 1s; }
    .module-card:nth-child(11) { animation-delay: 1.1s; }
    .module-card:nth-child(12) { animation-delay: 1.2s; }
    .module-card:nth-child(13) { animation-delay: 1.3s; }
    .module-card:nth-child(14) { animation-delay: 1.4s; }
    .module-card:nth-child(15) { animation-delay: 1.5s; }
    .module-card:nth-child(16) { animation-delay: 1.6s; }
    .module-card:nth-child(17) { animation-delay: 1.7s; }
    .module-card:nth-child(18) { animation-delay: 1.8s; }
    .module-card:nth-child(19) { animation-delay: 1.9s; }
    .module-card:nth-child(20) { animation-delay: 2s; }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .hero-section {
        padding: 2rem 0;
      }

      .module-icon {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark mb-4">
    <div class="container">
      <a class="navbar-brand" href="#">
        <i class="bi bi-diagram-3-fill me-2"></i>ERP Interactif
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" href="#modules">Modules</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#simulations">Simulations</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">À propos</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="hero-section">
    <div class="container text-center">
      <h1 class="display-4 fw-bold mb-3">Comprendre les ERP de manière interactive</h1>
      <p class="lead mb-4">Explorez les 20 modules clés d'un ERP et leurs interactions métiers à travers des simulations réalistes</p>
      <div class="d-flex justify-content-center gap-3">
        <a href="#modules" class="btn btn-light btn-lg px-4">Explorer les modules</a>
        <a href="#simulations" class="btn btn-outline-light btn-lg px-4">Voir les simulations</a>
      </div>
    </div>
  </section>

  <div class="container mb-5">
    <section class="mb-5">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h2 class="mb-4">Qu'est-ce qu'un ERP ?</h2>
          <p class="lead">Un ERP (Enterprise Resource Planning) est un système intégré de gestion qui permet de piloter l'ensemble des processus métiers d'une entreprise en utilisant une base de données commune.</p>
          <div class="d-flex justify-content-center mt-4">
            <div class="px-4 text-center">
              <i class="bi bi-people-fill fs-1 text-primary"></i>
              <p class="mt-2 fw-bold">Centralisation</p>
            </div>
            <div class="px-4 text-center">
              <i class="bi bi-arrow-left-right fs-1 text-primary"></i>
              <p class="mt-2 fw-bold">Intégration</p>
            </div>
            <div class="px-4 text-center">
              <i class="bi bi-graph-up fs-1 text-primary"></i>
              <p class="mt-2 fw-bold">Performance</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="modules" class="mb-5">
      <h2 class="text-center mb-4">Modules ERP</h2>
      <div class="row mb-4">
        <div class="col-md-6 mx-auto">
          <div class="input-group">
            <input type="text" id="moduleSearch" class="form-control" placeholder="Rechercher un module...">
            <button class="btn btn-outline-secondary" type="button" id="searchButton">
              <i class="bi bi-search"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4" id="moduleList">
        </div>
    </section>

    <section id="simulations" class="mb-5">
      <h2 class="text-center mb-4">Simulations interactives</h2>

		<ul class="nav nav-tabs justify-content-center mb-4" id="simulationTabs" role="tablist">
		  <li class="nav-item" role="presentation">
			<button class="nav-link active" id="vente-tab" data-bs-toggle="tab" data-bs-target="#vente" type="button" role="tab">Processus de vente</button>
		  </li>
		  <li class="nav-item" role="presentation">
			<button class="nav-link" id="achat-tab" data-bs-toggle="tab" data-bs-target="#achat" type="button" role="tab">Processus d'achat</button>
		  </li>
		  <li class="nav-item" role="presentation">
			<button class="nav-link" id="rh-tab" data-bs-toggle="tab" data-bs-target="#rh" type="button" role="tab">Processus RH</button>
		  </li>

		  <li class="nav-item" role="presentation">
			<button class="nav-link" id="production-tab" data-bs-toggle="tab" data-bs-target="#production" type="button" role="tab">Processus production</button>
		  </li>
		  <li class="nav-item" role="presentation">
			<button class="nav-link" id="projet-tab" data-bs-toggle="tab" data-bs-target="#projet" type="button" role="tab">Processus projet</button>
		  </li>
		  <li class="nav-item" role="presentation">
			<button class="nav-link" id="sav-tab" data-bs-toggle="tab" data-bs-target="#sav" type="button" role="tab">Processus SAV</button>
		  </li>
		  <li class="nav-item" role="presentation">
			<button class="nav-link" id="budget-tab" data-bs-toggle="tab" data-bs-target="#budget" type="button" role="tab">Processus budgétaire</button>
		  </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="architecture-tab" data-bs-toggle="tab" data-bs-target="#architecture" type="button" role="tab">Architecture d'entreprise</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="data-driven-tab" data-bs-toggle="tab" data-bs-target="#data-driven" type="button" role="tab">Entreprise "Data Driven"</button>
          </li>
		</ul>

      <div class="tab-content" id="simulationTabContent">
        <div class="tab-pane fade show active" id="vente" role="tabpanel">
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-cart-check me-2"></i>Processus de vente complet</h3>
            <p>Cette simulation montre le flux complet d'une vente dans un ERP, depuis la création d'un client jusqu'à l'impact comptable.</p>

            <div class="process-step">
              <h5>1. Création d'un client</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" onclick="simulateStep('createClient')">Simuler cette étape</button>
                <div id="clientForm" class="mt-3" style="display:none;">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label">Nom</label>
                      <input type="text" class="form-control" id="clientName" value="Dupont SA">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Adresse</label>
                      <input type="text" class="form-control" id="clientAddress" value="12 Rue de Paris, 75001">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">SIRET</label>
                      <input type="text" class="form-control" id="clientSiret" value="12345678900012">
                    </div>
                    <div class="col-12">
                      <button class="btn btn-primary btn-sm" onclick="saveClient()">Enregistrer</button>
                    </div>
                  </div>
                </div>
              </div>
              <div id="clientResult" style="display:none;"></div>
            </div>

            <div class="process-step">
              <h5>2. Création d'un devis</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="createQuoteBtn" disabled onclick="simulateStep('createQuote')">Simuler cette étape</button>
                <div id="quoteForm" class="mt-3" style="display:none;">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label class="form-label">Client</label>
                      <select class="form-select" id="quoteClient">
                        <option value="">Sélectionner un client</option>
                      </select>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Validité (jours)</label>
                      <input type="number" class="form-control" id="quoteValidity" value="30">
                    </div>
                    <div class="col-12">
                      <h6 class="mt-3">Articles</h6>
                      <table class="table table-sm" id="quoteItemsTable">
                        <thead>
                          <tr>
                            <th>Article</th>
                            <th>Quantité</th>
                            <th>Prix unitaire</th>
                            <th>Total</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>
                              <select class="form-select form-select-sm" id="quoteItem1">
                                <option value="">Sélectionner</option>
                                <option value="1">Ordinateur portable Pro</option>
                                <option value="2">Écran 24"</option>
                                <option value="3">Clavier sans fil</option>
                                <option value="4">Souris ergonomique</option>
                              </select>
                            </td>
                            <td><input type="number" class="form-control form-control-sm" id="quoteQty1" value="1" min="1"></td>
                            <td><input type="number" class="form-control form-control-sm" id="quotePrice1" value="1200" step="0.01"></td>
                            <td><span id="quoteTotal1">1200.00</span> €</td>
                            <td><button type="button" class="btn btn-sm btn-outline-danger" onclick="removeQuoteItem(1)"><i class="bi bi-trash"></i></button></td>
                          </tr>
                        </tbody>
                        <tfoot>
                          <tr>
                            <td colspan="5">
                              <button type="button" class="btn btn-sm btn-outline-primary" onclick="addQuoteItem()"><i class="bi bi-plus"></i> Ajouter un article</button>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="3" class="text-end fw-bold">Total HT:</td>
                            <td colspan="2"><span id="quoteTotalHT">1200.00</span> €</td>
                          </tr>
                          <tr>
                            <td colspan="3" class="text-end fw-bold">TVA (20%):</td>
                            <td colspan="2"><span id="quoteTVA">240.00</span> €</td>
                          </tr>
                          <tr>
                            <td colspan="3" class="text-end fw-bold">Total TTC:</td>
                            <td colspan="2"><span id="quoteTotalTTC">1440.00</span> €</td>
                          </tr>
                        </tfoot>
                      </table>
                    </div>
                    <div class="col-12">
                      <button class="btn btn-primary btn-sm" onclick="saveQuote()">Enregistrer le devis</button>
                    </div>
                  </div>
                </div>
              </div>
              <div id="quoteResult" style="display:none;"></div>
            </div>

            <div class="process-step">
              <h5>3. Conversion en commande</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="convertOrderBtn" disabled onclick="simulateStep('convertOrder')">Simuler cette étape</button>
                <div id="orderResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>4. Livraison et mise à jour du stock</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="deliveryBtn" disabled onclick="simulateStep('processDelivery')">Simuler cette étape</button>
                <div id="deliveryResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>5. Facturation</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="invoiceBtn" disabled onclick="simulateStep('createInvoice')">Simuler cette étape</button>
                <div id="invoiceResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>6. Écriture comptable</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="accountingBtn" disabled onclick="simulateStep('createAccountingEntry')">Simuler cette étape</button>
                <div id="accountingResult" style="display:none;"></div>
              </div>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary" onclick="resetSimulation()">Réinitialiser la simulation</button>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="achat" role="tabpanel">
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-cart-plus me-2"></i>Processus d'achat complet</h3>
            <p>Cette simulation montre le flux complet d'un achat dans un ERP, depuis la détection d'un besoin jusqu'au paiement du fournisseur.</p>

            <div class="process-step">
              <h5>1. Détection du besoin</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" onclick="simulatePurchaseStep('detectNeed')">Simuler cette étape</button>
                <div id="needResult" class="mt-3" style="display:none;">
                  <p>Le système détecte que le stock de l'article "Écran 24"" est en dessous du seuil minimum (5 unités). Stock actuel: 3 unités.</p>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>2. Création d'une demande d'achat</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="createRequestBtn" disabled onclick="simulatePurchaseStep('createRequest')">Simuler cette étape</button>
                <div id="requestResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>3. Validation de la demande</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="approveRequestBtn" disabled onclick="simulatePurchaseStep('approveRequest')">Simuler cette étape</button>
                <div id="approvalResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>4. Création d'un bon de commande</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="createPOBtn" disabled onclick="simulatePurchaseStep('createPO')">Simuler cette étape</button>
                <div id="poResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>5. Réception des marchandises</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="receiveGoodsBtn" disabled onclick="simulatePurchaseStep('receiveGoods')">Simuler cette étape</button>
                <div id="receptionResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>6. Facture fournisseur</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="supplierInvoiceBtn" disabled onclick="simulatePurchaseStep('processSupplierInvoice')">Simuler cette étape</button>
                <div id="supplierInvoiceResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>7. Paiement fournisseur</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="paymentBtn" disabled onclick="simulatePurchaseStep('processPayment')">Simuler cette étape</button>
                <div id="paymentResult" style="display:none;"></div>
              </div>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary" onclick="resetPurchaseSimulation()">Réinitialiser la simulation</button>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="rh" role="tabpanel">
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-people-fill me-2"></i>Processus RH complet</h3>
            <p>Cette simulation montre le flux complet de gestion d'un employé dans un ERP, depuis le recrutement jusqu'à la paie.</p>

            <div class="process-step">
              <h5>1. Recrutement d'un nouvel employé</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" onclick="simulateHRStep('recruitment')">Simuler cette étape</button>
                <div id="recruitmentForm" class="mt-3" style="display:none;">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label">Nom</label>
                      <input type="text" class="form-control" id="employeeName" value="Martin">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Prénom</label>
                      <input type="text" class="form-control" id="employeeFirstName" value="Sophie">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Poste</label>
                      <input type="text" class="form-control" id="employeePosition" value="Développeur">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Date d'embauche</label>
                      <input type="date" class="form-control" id="employeeHireDate" value="2023-06-01">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Salaire brut</label>
                      <input type="number" class="form-control" id="employeeSalary" value="35000">
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Service</label>
                      <select class="form-select" id="employeeDepartment">
                        <option value="IT">IT</option>
                        <option value="RH">RH</option>
                        <option value="Finance">Finance</option>
                        <option value="Marketing">Marketing</option>
                      </select>
                    </div>
                    <div class="col-12">
                      <button class="btn btn-primary btn-sm" onclick="saveEmployee()">Enregistrer</button>
                    </div>
                  </div>
                </div>
              </div>
              <div id="recruitmentResult" style="display:none;"></div>
            </div>

            <div class="process-step">
              <h5>2. Création du contrat</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="createContractBtn" disabled onclick="simulateHRStep('createContract')">Simuler cette étape</button>
                <div id="contractResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>3. Gestion des congés</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="manageLeaveBtn" disabled onclick="simulateHRStep('manageLeave')">Simuler cette étape</button>
                <div id="leaveResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>4. Traitement de la paie</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="processPayrollBtn" disabled onclick="simulateHRStep('processPayroll')">Simuler cette étape</button>
                <div id="payrollResult" style="display:none;"></div>
              </div>
            </div>

            <div class="process-step">
              <h5>5. Impact comptable</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="hrAccountingBtn" disabled onclick="simulateHRStep('hrAccounting')">Simuler cette étape</button>
                <div id="hrAccountingResult" style="display:none;"></div>
              </div>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary" onclick="resetHRSimulation()">Réinitialiser la simulation</button>
            </div>
          </div>
        </div>



  <div class="tab-pane fade" id="production" role="tabpanel">
    <div class="simulation-container">
      <h3 class="mb-4"><i class="bi bi-gear-wide-connected me-2"></i>Processus de production</h3>
      <p>Cette simulation montre le flux complet de production, depuis la planification jusqu'à l'expédition.</p>

      <div class="process-step">
        <h5>1. Planification de production</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" onclick="simulateProductionStep('planProduction')">Simuler cette étape</button>
          <div id="planProductionResult" class="mt-3" style="display:none;">
            <div class="alert alert-success">
              <p>Planification créée pour <strong>100 unités du produit AX-205</strong>.</p>
              <p>Dates: ${new Date().toLocaleDateString()} au ${new Date(new Date().getTime() + 7*24*60*60*1000).toLocaleDateString()}</p>
              <p>Ressources allouées: Ligne 3, Équipe B</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>2. Réservation des composants</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="reserveComponentsBtn" disabled onclick="simulateProductionStep('reserveComponents')">Simuler cette étape</button>
          <div id="reserveComponentsResult" style="display:none;">
            <div class="alert alert-success">
              <p>Composants réservés:</p>
              <table class="table table-sm">
                <thead>
                  <tr><th>Composant</th><th>Quantité</th><th>Stock après</th></tr>
                </thead>
                <tbody>
                  <tr><td>CPU-X</td><td>100</td><td>45</td></tr>
                  <tr><td>RAM-8G</td><td>200</td><td>80</td></tr>
                  <tr><td>Boîtier-M</td><td>100</td><td>22</td></tr>
                </tbody>
              </table>
              <p class="text-warning"><i class="bi bi-exclamation-triangle"></i> Alerte: Stock faible pour Boîtier-M</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>3. Lancement ordre de fabrication</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="startProductionBtn" disabled onclick="simulateProductionStep('startProduction')">Simuler cette étape</button>
          <div id="startProductionResult" style="display:none;">
            <div class="alert alert-success">
              <p>Ordre de fabrication <strong>OF-2023-105</strong> créé.</p>
              <p>Statut: En cours</p>
              <p>Quantité: 100 unités</p>
              <p>Échéance: ${new Date(new Date().getTime() + 5*24*60*60*1000).toLocaleDateString()}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>4. Suivi en temps réel</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="trackProductionBtn" disabled onclick="simulateProductionStep('trackProduction')">Simuler cette étape</button>
          <div id="trackProductionResult" style="display:none;">
            <div class="alert alert-success">
              <p>Avancement de l'OF-2023-105:</p>
              <div class="progress mb-2">
                <div class="progress-bar" role="progressbar" style="width: 65%">65%</div>
              </div>
              <p>Unités terminées: 65/100</p>
              <p>Défauts détectés: 2</p>
              <p>Temps moyen par unité: 1h25</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>5. Clôture et mise à jour stock</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="completeProductionBtn" disabled onclick="simulateProductionStep('completeProduction')">Simuler cette étape</button>
          <div id="completeProductionResult" style="display:none;">
            <div class="alert alert-success">
              <p>Ordre de fabrication <strong>OF-2023-105</strong> clôturé.</p>
              <p>Produits finis ajoutés au stock:</p>
              <ul>
                <li>AX-205: +98 unités (2 rebuts)</li>
                <li>Nouveau stock: 143 unités</li>
              </ul>
              <p>Coût de production total: 12 450,00 €</p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4">
        <button class="btn btn-primary" onclick="resetProductionSimulation()">Réinitialiser</button>
      </div>
    </div>
  </div>

  <div class="tab-pane fade" id="projet" role="tabpanel">
    <div class="simulation-container">
      <h3 class="mb-4"><i class="bi bi-kanban me-2"></i>Processus projet</h3>
      <p>Cette simulation montre le cycle complet de gestion d'un projet, de l'initialisation à la clôture.</p>

      <div class="process-step">
        <h5>1. Initialisation du projet</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" onclick="simulateProjectStep('initProject')">Simuler cette étape</button>
          <div id="initProjectResult" class="mt-3" style="display:none;">
            <div class="alert alert-success">
              <p>Projet <strong>PRJ-2023-008</strong> créé : "Développement application mobile"</p>
              <p>Chef de projet: Alice Dupont</p>
              <p>Budget initial: 50 000,00 €</p>
              <p>Échéance: ${new Date(new Date().getTime() + 90*24*60*60*1000).toLocaleDateString()}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>2. Planification des tâches</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="planTasksBtn" disabled onclick="simulateProjectStep('planTasks')">Simuler cette étape</button>
          <div id="planTasksResult" style="display:none;">
            <div class="alert alert-success">
              <p>Planification créée avec 12 tâches principales:</p>
              <table class="table table-sm">
                <thead>
                  <tr><th>Tâche</th><th>Responsable</th><th>Durée</th></tr>
                </thead>
                <tbody>
                  <tr><td>Conception UX</td><td>Marc</td><td>10 jours</td></tr>
                  <tr><td>Développement front</td><td>Sophie</td><td>25 jours</td></tr>
                  <tr><td>Tests utilisateurs</td><td>Équipe QA</td><td>15 jours</td></tr>
                </tbody>
              </table>
              <p>Diagramme de Gantt généré automatiquement.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>3. Affectation des ressources</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="assignResourcesBtn" disabled onclick="simulateProjectStep('assignResources')">Simuler cette étape</button>
          <div id="assignResourcesResult" style="display:none;">
            <div class="alert alert-success">
              <p>Ressources affectées:</p>
              <ul>
                <li>5 développeurs (80% de leur temps)</li>
                <li>1 designer UX (100%)</li>
                <li>2 testeurs (50%)</li>
              </ul>
              <p>Budget réparti:
                <ul>
                  <li>Développement: 32 000,00 €</li>
                  <li>Design: 8 000,00 €</li>
                  <li>Tests: 6 000,00 €</li>
                </ul>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>4. Suivi de l'avancement</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="trackProgressBtn" disabled onclick="simulateProjectStep('trackProgress')">Simuler cette étape</button>
          <div id="trackProgressResult" style="display:none;">
            <div class="alert alert-success">
              <p>État du projet à J+30:</p>
              <div class="progress mb-2">
                <div class="progress-bar" role="progressbar" style="width: 40%">40%</div>
              </div>
              <p>Tâches complétées: 5/12</p>
              <p>Budget consommé: 22 500,00 € (45%)</p>
              <p>Risques identifiés:
                <span class="badge bg-warning">Retard design</span>
                <span class="badge bg-warning">Besoin supplémentaire testeurs</span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>5. Clôture et reporting</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="closeProjectBtn" disabled onclick="simulateProjectStep('closeProject')">Simuler cette étape</button>
          <div id="closeProjectResult" style="display:none;">
            <div class="alert alert-success">
              <p>Projet <strong>PRJ-2023-008</strong> clôturé.</p>
              <p>Résultats finaux:</p>
              <ul>
                <li>Durée réelle: 87 jours (3 jours d'avance)</li>
                <li>Coût final: 48 750,00 € (97.5% du budget)</li>
                <li>Livrables: Application iOS/Android + documentation</li>
              </ul>
              <p>Retours clients: Satisfaction 4.5/5</p>
              <button class="btn btn-sm btn-outline-primary">
                <i class="bi bi-file-earmark-pdf"></i> Générer rapport final
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4">
        <button class="btn btn-primary" onclick="resetProjectSimulation()">Réinitialiser</button>
      </div>
    </div>
  </div>

  <div class="tab-pane fade" id="sav" role="tabpanel">
    <div class="simulation-container">
      <h3 class="mb-4"><i class="bi bi-headset me-2"></i>Processus SAV</h3>
      <p>Cette simulation montre la gestion complète d'un ticket SAV, de la création à la résolution.</p>

      <div class="process-step">
        <h5>1. Création du ticket</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" onclick="simulateSavStep('createTicket')">Simuler cette étape</button>
          <div id="createTicketResult" class="mt-3" style="display:none;">
            <div class="alert alert-success">
              <p>Ticket <strong>SAV-2023-1542</strong> créé par le client "Dupont SA".</p>
              <p>Problème: "L'écran de l'ordinateur AX-205 reste noir après démarrage"</p>
              <p>Priorité: <span class="badge bg-danger">Haute</span></p>
              <p>Garantie: Oui (jusqu'au ${new Date(new Date().getTime() + 30*24*60*60*1000).toLocaleDateString()})</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>2. Diagnostic initial</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="diagnoseBtn" disabled onclick="simulateSavStep('diagnose')">Simuler cette étape</button>
          <div id="diagnoseResult" style="display:none;">
            <div class="alert alert-success">
              <p>Diagnostic effectué par le technicien Jean M.</p>
              <p>Conclusion: Carte graphique défectueuse</p>
              <p>Solution proposée: Remplacement sous garantie</p>
              <p>Pièce nécessaire: GPU-RX550 (référence: CP-8854)</p>
              <p>Stock disponible: 3 unités</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>3. Validation et réparation</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="repairBtn" disabled onclick="simulateSavStep('repair')">Simuler cette étape</button>
          <div id="repairResult" style="display:none;">
            <div class="alert alert-success">
              <p>Réparation effectuée:</p>
              <ul>
                <li>Pièce utilisée: GPU-RX550 (n° série: SN8854-2093)</li>
                <li>Temps d'intervention: 1h30</li>
                <li>Coût matériel: 0,00 € (garantie)</li>
                <li>Coût main d'œuvre: 0,00 € (garantie)</li>
              </ul>
              <p>Test de fonctionnement: OK</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>4. Mise à jour stock et garantie</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="updateStockBtn" disabled onclick="simulateSavStep('updateStock')">Simuler cette étape</button>
          <div id="updateStockResult" style="display:none;">
            <div class="alert alert-success">
              <p>Mises à jour effectuées:</p>
              <ul>
                <li>Stock GPU-RX550: 3 → 2 unités</li>
                <li>Commande automatique lancée pour réapprovisionnement</li>
                <li>Historique client mis à jour</li>
                <li>Compteur garantie réinitialisé pour la pièce remplacée</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>5. Clôture et satisfaction client</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="closeTicketBtn" disabled onclick="simulateSavStep('closeTicket')">Simuler cette étape</button>
          <div id="closeTicketResult" style="display:none;">
            <div class="alert alert-success">
              <p>Ticket <strong>SAV-2023-1542</strong> clôturé.</p>
              <p>Enquête satisfaction:</p>
              <div class="mb-2">
                <span class="fw-bold">Rapidité:</span>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star text-warning"></i>
              </div>
              <div class="mb-2">
                <span class="fw-bold">Qualité:</span>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-fill text-warning"></i>
                <i class="bi bi-star-half text-warning"></i>
              </div>
              <p>Commentaire: "Intervention efficace, matériel fonctionne parfaitement"</p>
              <p>Ticket archivé avec référence: ARCH-SAV-1542</p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4">
        <button class="btn btn-primary" onclick="resetSavSimulation()">Réinitialiser</button>
      </div>
    </div>
  </div>

  <div class="tab-pane fade" id="budget" role="tabpanel">
    <div class="simulation-container">
      <h3 class="mb-4"><i class="bi bi-cash-stack me-2"></i>Processus budgétaire</h3>
      <p>Cette simulation montre le cycle complet de gestion budgétaire, de la préparation à l'analyse des écarts.</p>

      <div class="process-step">
        <h5>1. Préparation du budget</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" onclick="simulateBudgetStep('prepareBudget')">Simuler cette étape</button>
          <div id="prepareBudgetResult" class="mt-3" style="display:none;">
            <div class="alert alert-success">
              <p>Budget 2024 préparé avec 10 centres de coûts.</p>
              <p>Montant total: 1 250 000,00 €</p>
              <p>Répartition principale:</p>
              <ul>
                <li>Production: 45%</li>
                <li>R&D: 20%</li>
                <li>Commercial: 15%</li>
                <li>Administratif: 10%</li>
                <li>Divers: 10%</li>
              </ul>
              <p>Basé sur l'historique 2023 + croissance prévue de 8%</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>2. Validation hiérarchique</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="approveBudgetBtn" disabled onclick="simulateBudgetStep('approveBudget')">Simuler cette étape</button>
          <div id="approveBudgetResult" style="display:none;">
            <div class="alert alert-success">
              <p>Budget validé avec modifications:</p>
              <ul>
                <li>Budget total ajusté à 1 200 000,00 € (-4%)</li>
                <li>Réduction de 50 000,00 € sur les frais administratifs</li>
                <li>Report de certains investissements R&D à 2025</li>
              </ul>
              <p>Signé par la direction le ${new Date().toLocaleDateString()}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>3. Répartition par service</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="allocateBudgetBtn" disabled onclick="simulateBudgetStep('allocateBudget')">Simuler cette étape</button>
          <div id="allocateBudgetResult" style="display:none;">
            <div class="alert alert-success">
              <p>Budget réparti avec notifications aux responsables:</p>
              <table class="table table-sm">
                <thead>
                  <tr><th>Service</th><th>Responsable</th><th>Budget</th></tr>
                </thead>
                <tbody>
                  <tr><td>Production</td><td>M. Martin</td><td>540 000,00 €</td></tr>
                  <tr><td>R&D</td><td>Mme. Leroy</td><td>240 000,00 €</td></tr>
                  <tr><td>Commercial</td><td>M. Dubois</td><td>180 000,00 €</td></tr>
                  <tr><td>Support</td><td>M. Petit</td><td>120 000,00 €</td></tr>
                  <tr><td>Direction</td><td>M. Lambert</td><td>120 000,00 €</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>4. Suivi mensuel</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="trackBudgetBtn" disabled onclick="simulateBudgetStep('trackBudget')">Simuler cette étape</button>
          <div id="trackBudgetResult" style="display:none;">
            <div class="alert alert-success">
              <p>État au 30/06/2024:</p>
              <table class="table table-sm">
                <thead>
                  <tr><th>Service</th><th>Budget</th><th>Dépenses</th><th>%</th><th>Écart</th></tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Production</td>
                    <td>270 000,00 €</td>
                    <td>255 000,00 €</td>
                    <td>94%</td>
                    <td class="text-success">+15 000,00 €</td>
                  </tr>
                  <tr>
                    <td>R&D</td>
                    <td>120 000,00 €</td>
                    <td>132 000,00 €</td>
                    <td>110%</td>
                    <td class="text-danger">-12 000,00 €</td>
                  </tr>
                  <tr>
                    <td>Commercial</td>
                    <td>90 000,00 €</td>
                    <td>82 500,00 €</td>
                    <td>92%</td>
                    <td class="text-success">+7 500,00 €</td>
                  </tr>
                  <tr>
                    <td>Total</td>
                    <td>600 000,00 €</td>
                    <td>589 500,00 €</td>
                    <td>98%</td>
                    <td class="text-success">+10 500,00 €</td>
                  </tr>
                </tbody>
              </table>
              <p>Commentaire: Dépassement R&D dû à un recrutement imprévu</p>
            </div>
          </div>
        </div>
      </div>

      <div class="process-step">
        <h5>5. Révision et analyse annuelle</h5>
        <div class="mb-3">
          <button class="btn btn-sm btn-outline-primary" id="analyzeBudgetBtn" disabled onclick="simulateBudgetStep('analyzeBudget')">Simuler cette étape</button>
          <div id="analyzeBudgetResult" style="display:none;">
            <div class="alert alert-success">
              <p>Analyse finale du budget 2024:</p>
              <ul>
                <li>Dépenses totales: 1 185 000,00 € (98.75% du budget)</li>
                <li>Économies globales: 15 000,00 €</li>
                <li>Principaux écarts:
                  <ul>
                    <li>R&D: +5% (projet innovant)</li>
                    <li>Production: -3% (optimisation processus)</li>
                    <li>Commercial: -8% (report campagne Q4)</li>
                  </ul>
                </li>
              </ul>
              <p>Recommandations pour 2025:</p>
              <ol>
                <li>Augmenter budget R&D de 10%</li>
                <li>Créer un fonds pour imprévus (2% du total)</li>
                <li>Mieux aligner les calendriers projets/dépenses</li>
              </ol>
              <button class="btn btn-sm btn-outline-primary">
                <i class="bi bi-graph-up"></i> Voir l'analyse détaillée
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4">
        <button class="btn btn-primary" onclick="resetBudgetSimulation()">Réinitialiser</button>
      </div>
    </div>
  </div>

        <div class="tab-pane fade" id="architecture" role="tabpanel">
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-building-gear me-2"></i>Processus Architecture d'entreprise (EA)</h3>
			
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-building-gear me-2"></i>Architecture d'entreprise</h3>
            <p>L'architecture d'entreprise (EA) est une discipline qui fournit une compréhension holistique et un cadre structuré pour les processus métier, les systèmes d'information, la technologie et les personnes d'une organisation. Elle vise à aligner la stratégie d'entreprise avec la technologie de l'information pour atteindre les objectifs commerciaux.</p>
            
            <p><strong>Composants clés de l'EA :</strong></p>
            <ul>
              <li><strong>Architecture Métier:</strong> Décrit les processus métier, l'organisation et les capacités de l'entreprise.</li>
              <li><strong>Architecture des Données:</strong> Décrit la structure des données logiques et physiques de l'entreprise et la gestion des ressources de données.</li>
              <li><strong>Architecture des Applications:</strong> Décrit les systèmes d'application individuels et leurs relations avec les processus métier et les données.</li>
              <li><strong>Architecture Technologique:</strong> Décrit les capacités logicielles et matérielles requises pour prendre en charge le déploiement des services métier et des applications.</li>
            </ul>
            
            <p><strong>Rôle de l'ERP dans l'EA :</strong></p>
            <p>Un ERP est un pilier central de l'architecture d'entreprise. Il fournit un système intégré qui soutient de multiples fonctions métier, favorisant la cohérence des données et l'efficacité des processus. L'implémentation d'un ERP est souvent un moteur majeur de transformation de l'architecture métier et applicative.</p>
          </div>
        

			
			
            <p>Cette simulation illustre les étapes clés de la mise en place et de la gestion de l'Architecture d'Entreprise.</p>

            <div class="process-step">
              <h5>1. Définition de la vision et de la stratégie</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" onclick="simulateEAStep('defineVision')">Simuler cette étape</button>
                <div id="eaVisionResult" class="mt-3" style="display:none;">
                  <div class="alert alert-success">
                    <p>La vision et la stratégie de l'entreprise ont été définies pour l'EA : améliorer l'efficacité opérationnelle de 15% et la satisfaction client de 10% d'ici 3 ans.</p>
                    <p>Objectifs clés : harmonisation des systèmes, réduction des coûts IT, agilité métier accrue.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>2. Modélisation de l'architecture métier</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="eaBusinessArchBtn" disabled onclick="simulateEAStep('modelBusinessArch')">Simuler cette étape</button>
                <div id="eaBusinessArchResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les processus métier clés (vente, achat, production) ont été cartographiés et les capacités métier (gestion client, chaîne d'approvisionnement) identifiées.</p>
                    <p>Identification des redondances et des goulots d'étranglement.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>3. Modélisation de l'architecture des données</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="eaDataArchBtn" disabled onclick="simulateEAStep('modelDataArch')">Simuler cette étape</button>
                <div id="eaDataArchResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les modèles de données logiques et physiques ont été conçus, incluant les entités (Clients, Produits, Commandes) et leurs relations.</p>
                    <p>Définition des standards de qualité et de gouvernance des données.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>4. Modélisation de l'architecture applicative</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="eaAppArchBtn" disabled onclick="simulateEAStep('modelAppArch')">Simuler cette étape</button>
                <div id="eaAppArchResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les applications existantes ont été inventoriées, leurs fonctions et leurs interconnexions définies.</p>
                    <p>L'ERP est identifié comme le système central pour la gestion des processus intégrés.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>5. Modélisation de l'architecture technologique</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="eaTechArchBtn" disabled onclick="simulateEAStep('modelTechArch')">Simuler cette étape</button>
                <div id="eaTechArchResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>L'infrastructure technologique (serveurs, réseaux, bases de données, sécurité) a été planifiée pour supporter les applications.</p>
                    <p>Choix des technologies cloud pour la flexibilité et la scalabilité.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>6. Gouvernance et implémentation</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="eaGovernanceBtn" disabled onclick="simulateEAStep('governance')">Simuler cette étape</button>
                <div id="eaGovernanceResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les principes de gouvernance ont été établis et les projets de transformation lancés (ex: déploiement d'un nouveau module ERP).</p>
                    <p>Suivi de l'alignement des projets avec l'architecture cible.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>7. Optimisation continue et mesure</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="eaOptimizeBtn" disabled onclick="simulateEAStep('optimize')">Simuler cette étape</button>
                <div id="eaOptimizeResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>L'efficacité de l'EA est mesurée via des KPIs (ex: réduction des coûts d'intégration, rapidité de déploiement de nouvelles fonctionnalités).</p>
                    <p>Processus d'amélioration continue et d'adaptation aux nouvelles exigences métier et technologiques mis en place.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary" onclick="resetEASimulation()">Réinitialiser</button>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="data-driven" role="tabpanel">
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-database-check me-2"></i>Processus Entreprise "Data Driven"</h3>
			
			
     
          <div class="simulation-container">
            <h3 class="mb-4"><i class="bi bi-database-check me-2"></i>Entreprise "Data Driven"</h3>
            <p>Une entreprise "Data Driven" (axée sur les données) est une organisation qui prend des décisions stratégiques et opérationnelles basées sur l'analyse et l'interprétation des données plutôt que sur l'intuition ou l'expérience seule. Cela implique une culture où les données sont collectées, stockées, analysées et utilisées de manière systématique pour obtenir des insights et améliorer les performances.</p>
            
            <p><strong>Principes clés d'une entreprise Data Driven :</strong></p>
            <ul>
              <li><strong>Collecte de données:</strong> Mise en place de systèmes pour collecter des données pertinentes à travers tous les points de contact (ventes, marketing, opérations, etc.).</li>
              <li><strong>Qualité des données:</strong> Assurer l'exactitude, la cohérence et l'exhaustivité des données.</li>
              <li><strong>Analyse des données:</strong> Utilisation d'outils et de techniques d'analyse (BI, IA, Machine Learning) pour extraire des informations exploitables.</li>
              <li><strong>Prise de décision:</strong> Intégrer les insights des données dans les processus de décision à tous les niveaux de l'organisation.</li>
              <li><strong>Culture de la donnée:</strong> Former les employés à la littératie des données et encourager une mentalité basée sur les faits.</li>
            </ul>
            
            <p><strong>Comment l'ERP supporte une approche Data Driven :</strong></p>
            <p>L'ERP est un élément fondamental pour devenir une entreprise Data Driven. En centralisant les données de tous les processus métier (ventes, achats, production, RH, finance) dans une base de données unique, il fournit une source de vérité fiable. Cela permet une analyse transversale, des rapports consolidés et la capacité d'appliquer des analyses avancées pour identifier les tendances, optimiser les opérations et prendre des décisions plus éclairées.</p>
          </div>
       
			
            <p>Cette simulation démontre les étapes pour transformer une entreprise en une organisation axée sur les données.</p>

            <div class="process-step">
              <h5>1. Définition des objectifs data</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" onclick="simulateDataDrivenStep('defineObjectives')">Simuler cette étape</button>
                <div id="ddObjectivesResult" class="mt-3" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les objectifs data ont été définis : augmenter les ventes de 5% grâce à la personnalisation client, réduire les coûts d'inventaire de 10% via la prévision de la demande.</p>
                    <p>Les KPIs (Key Performance Indicators) ont été établis.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>2. Collecte et intégration des données</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="ddCollectIntegrateBtn" disabled onclick="simulateDataDrivenStep('collectIntegrate')">Simuler cette étape</button>
                <div id="ddCollectIntegrateResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Mise en place de l'extraction de données depuis l'ERP (ventes, stocks, clients) et d'autres sources (CRM, marketing digital).</p>
                    <p>Création d'un entrepôt de données (Data Warehouse) pour une vue consolidée.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>3. Nettoyage et préparation des données</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="ddCleanPrepareBtn" disabled onclick="simulateDataDrivenStep('cleanPrepare')">Simuler cette étape</button>
                <div id="ddCleanPrepareResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les données brutes ont été nettoyées (suppression des doublons, correction des erreurs) et transformées pour l'analyse.</p>
                    <p>Assurance de la qualité et de la cohérence des données.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>4. Analyse des données et extraction d'insights</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="ddAnalyzeInsightsBtn" disabled onclick="simulateDataDrivenStep('analyzeInsights')">Simuler cette étape</button>
                <div id="ddAnalyzeInsightsResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Des modèles d'analyse (prédiction de la demande, segmentation client) ont été appliqués aux données.</p>
                    <p>Des insights clés ont été identifiés, par exemple : "Les clients achetant le produit X sont 30% plus susceptibles d'acheter le produit Y dans les 2 mois".</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>5. Visualisation et communication</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="ddVisualizeCommunicateBtn" disabled onclick="simulateDataDrivenStep('visualizeCommunicate')">Simuler cette étape</button>
                <div id="ddVisualizeCommunicateResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Des tableaux de bord interactifs ont été créés pour les équipes (ex: Tableau de bord des ventes, Tableau de bord de l'inventaire).</p>
                    <p>Les insights sont partagés régulièrement avec les parties prenantes via des rapports et présentations.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>6. Prise de décision basée sur les données</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="ddDecisionMakingBtn" disabled onclick="simulateDataDrivenStep('decisionMaking')">Simuler cette étape</button>
                <div id="ddDecisionMakingResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>Les équipes de vente utilisent les recommandations de personnalisation pour les clients.</p>
                    <p>Les managers d'inventaire ajustent les niveaux de stock en fonction des prévisions de demande générées par les données.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="process-step">
              <h5>7. Mesure de l'impact et culture data</h5>
              <div class="mb-3">
                <button class="btn btn-sm btn-outline-primary" id="ddMeasureCultureBtn" disabled onclick="simulateDataDrivenStep('measureCulture')">Simuler cette étape</button>
                <div id="ddMeasureCultureResult" style="display:none;">
                  <div class="alert alert-success">
                    <p>L'impact des décisions basées sur les données est mesuré (ex: augmentation de 3% des ventes personnalisées, réduction de 7% des surstocks).</p>
                    <p>Des formations sont mises en place pour renforcer la littératie des données et encourager une culture "Data Driven" à tous les niveaux.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary" onclick="resetDataDrivenSimulation()">Réinitialiser</button>
            </div>
          </div>
        </div>

      </div>
    </section>

    <section id="about" class="mb-5">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h2 class="mb-4">À propos de ce portail</h2>
          <p>Ce portail pédagogique a été conçu pour aider les étudiants à comprendre le fonctionnement d'un ERP de manière interactive. Il met en évidence les principaux modules et leurs interactions à travers des simulations réalistes.</p>
          <p>Les données utilisées sont fictives mais représentatives des flux réels dans une entreprise.</p>
          <div class="mt-4">
            <h5>ERP open source référencés</h5>
            <div class="d-flex flex-wrap justify-content-center gap-2">
              <span class="badge bg-secondary">Odoo</span>
              <span class="badge bg-secondary">ERPNext</span>
              <span class="badge bg-secondary">Dolibarr</span>
              <span class="badge bg-secondary">Axelor</span>
              <span class="badge bg-secondary">iDempiere</span>
              <span class="badge bg-secondary">Tryton</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <footer>
    <div class="container text-center">
      <p class="mb-0">Portail ERP Interactif - Outil pédagogique</p>
      <p class="mb-0">© 2023 - Tous droits réservés</p>
    </div>
  </footer>

  <div class="modal fade" id="moduleModal" tabindex="-1" aria-labelledby="moduleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="moduleModalLabel">Détails du module</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="moduleModalContent">
          </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Modules data
    const modules = [
      {
        id: 1,
        nom: 'CRM',
        icon: 'bi-person-lines-fill',
        desc: 'Gestion des relations client',
        details: 'Le module CRM (Customer Relationship Management) permet de gérer l\'ensemble des interactions avec les clients et prospects. Il centralise les informations clients, suit les opportunités commerciales et permet de planifier des actions marketing ciblées.',
        inputs: 'Données clients, interactions (emails, appels, rendez-vous), campagnes marketing',
        outputs: 'Opportunités commerciales, analyses de performance, devis',
        links: ['Ventes', 'Facturation', 'E-commerce'],
        openSource: 'Odoo, ERPNext, Dolibarr, Axelor',
        examples: 'Suivi d\'un prospect depuis sa première interaction jusqu\'à la vente, analyse du taux de conversion des campagnes marketing'
      },
      {
        id: 2,
        nom: 'Ventes',
        icon: 'bi-cart-check',
        desc: 'Gestion des ventes',
        details: 'Le module Ventes permet de gérer l\'ensemble du processus commercial, de la création de devis à la commande client. Il offre des outils pour configurer des tarifs, gérer les remises et suivre l\'état des commandes.',
        inputs: 'Devis, informations clients, disponibilité des produits',
        outputs: 'Commandes clients, bons de livraison, relances',
        links: ['CRM', 'Facturation', 'Stock'],
        openSource: 'Odoo, ERPNext, Tryton',
        examples: 'Création d\'un devis, conversion en commande, suivi du chiffre d\'affaires par commercial'
      },
      {
        id: 3,
        nom: 'Facturation',
        icon: 'bi-receipt',
        desc: 'Génération de factures',
        details: 'Le module Facturation automatise la création des factures clients et fournisseurs. Il gère les différents types de factures (acomptes, avoirs) et peut être connecté à des solutions de paiement en ligne.',
        inputs: 'Commandes clients, bons de livraison, taux de TVA',
        outputs: 'Factures, relances, échéanciers',
        links: ['Ventes', 'Comptabilité', 'E-commerce'],
        openSource: 'Odoo, Dolibarr, Metasfresh',
        examples: 'Génération automatique d\'une facture après livraison, gestion des paiements échelonnés'
      },
      {
        id: 4,
        nom: 'Comptabilité',
        icon: 'bi-calculator',
        desc: 'Gestion financière',
        details: 'Le module Comptabilité enregistre toutes les opérations financières de l\'entreprise. Il permet d\'établir les états financiers (bilan, compte de résultat) et assure la conformité avec les normes comptables.',
        inputs: 'Factures, relevés bancaires, opérations diverses',
        outputs: 'Journaux comptables, balances, états financiers',
        links: ['Facturation', 'Paie', 'Budgets'],
        openSource: 'Odoo, iDempiere, ERPNext',
        examples: 'Rapprochement bancaire automatique, génération du bilan annuel'
      },
      {
        id: 5,
        nom: 'Achats',
        icon: 'bi-cart-plus',
        desc: 'Commande fournisseur',
        details: 'Le module Achats gère l\'ensemble du processus d\'approvisionnement, de la demande d\'achat au paiement du fournisseur. Il permet de comparer les offres et d\'optimiser les coûts d\'achat.',
        inputs: 'Demandes d\'achat, catalogues fournisseurs, niveaux de stock',
        outputs: 'Commandes fournisseurs, réceptions, factures fournisseurs',
        links: ['Stock', 'Comptabilité', 'Budgets'],
        openSource: 'Odoo, ERPNext, Dolibarr',
        examples: 'Création automatique d\'une commande fournisseur lorsque le stock est bas, suivi des délais de livraison'
      },
      {
        id: 6,
        nom: 'Stock',
        icon: 'bi-box-seam',
        desc: 'Suivi des articles',
        details: 'Le module Stock permet de gérer les mouvements et les niveaux d\'inventaire. Il offre des outils pour les inventaires, les transferts entre entrepôts et la gestion des lots/séries.',
        inputs: 'Réceptions, livraisons, inventaires',
        outputs: 'Niveaux de stock, alertes de réapprovisionnement, valorisation',
        links: ['Ventes', 'Achats', 'Supply Chain'],
        openSource: 'Odoo, OpenBoxes, ERPNext',
        examples: 'Suivi en temps réel des stocks multi-entrepôts, gestion des dates de péremption'
      },
      {
        id: 7,
        nom: 'Supply Chain',
        icon: 'bi-truck',
        desc: 'Chaîne logistique',
        details: 'Le module Supply Chain optimise les flux physiques de marchandises. Il planifie les transports, gère les relations avec les prestataires logistiques et suit les performances de la chaîne d\'approvisionnement.',
        inputs: 'Commandes à livrer, disponibilité transporteurs, coûts logistiques',
        outputs: 'Plannings de livraison, tracking des expéditions, indicateurs de performance',
        links: ['Stock', 'Ventes', 'Achats'],
        openSource: 'ERPNext, Tryton, Axelor',
        examples: 'Optimisation des tournées de livraison, suivi GPS des colis'
      },
      {
        id: 8,
        nom: 'Ressources Humaines',
        icon: 'bi-people',
        desc: 'Gestion du personnel',
        details: 'Le module RH centralise les informations sur les employés (contrats, compétences, formations). Il facilite la gestion des recrutements, des évaluations et de la mobilité interne.',
        inputs: 'Données employés, offres d\'emploi, demandes de formation',
        outputs: 'Contrats, plans de formation, organigrammes',
        links: ['Paie', 'Projets', 'Planning'],
        openSource: 'Odoo, OrangeHRM, Dolibarr',
        examples: 'Gestion des compétences, planification des formations, suivi des entretiens annuels'
      },
      {
        id: 9,
        nom: 'Paie',
        icon: 'bi-cash-stack',
        desc: 'Gestion des salaires',
        details: 'Le module Paie calcule les rémunérations en tenant compte des contrats, des heures supplémentaires et des absences. Il génère les bulletins de paie et les déclarations sociales.',
        inputs: 'Contrats, heures travaillées, absences, variables',
        outputs: 'Bulletins de paie, déclarations sociales, écritures comptables',
        links: ['RH', 'Comptabilité', 'Budget'],
        openSource: 'Odoo, Dolibarr, Sentrifugo',
        examples: 'Calcul automatique des cotisations sociales, gestion des primes variables'
      },
      {
        id: 10,
        nom: 'Projets',
        icon: 'bi-kanban',
        desc: 'Gestion de projet',
        details: 'Le module Projets permet de planifier, suivre et analyser les projets. Il offre des outils pour le découpage en tâches, l\'affectation des ressources et le suivi des coûts.',
        inputs: 'Objectifs projet, ressources disponibles, contraintes',
        outputs: 'Plannings, rapports d\'avancement, analyses de rentabilité',
        links: ['RH', 'Budget', 'Facturation'],
        openSource: 'ERPNext, Dolibarr, OpenProject',
        examples: 'Suivi agile avec tableau Kanban, analyse de la charge de travail par ressource'
      },
      {
        id: 11,
        nom: 'Reporting',
        icon: 'bi-graph-up',
        desc: 'Indicateurs de performance',
        details: 'Le module Reporting transforme les données opérationnelles en tableaux de bord et analyses. Il permet de créer des rapports personnalisés et de suivre les KPI de l\'entreprise.',
        inputs: 'Données opérationnelles, modèles de rapport, paramètres d\'analyse',
        outputs: 'Tableaux de bord, rapports exportables, alertes',
        links: ['Tous les modules'],
        openSource: 'Metabase, Superset, Odoo',
        examples: 'Tableau de bord commercial avec indicateurs clés, analyse des temps de livraison'
      },
      {
        id: 12,
        nom: 'E-commerce',
        icon: 'bi-cart',
        desc: 'Boutique en ligne',
        details: 'Le module E-commerce connecte la boutique en ligne à l\'ERP. Il synchronise les produits, stocks et commandes, et offre des outils de marketing digital.',
        inputs: 'Catalogue produits, commandes en ligne, données clients',
        outputs: 'Commandes ERP, factures, statistiques de vente',
        links: ['Ventes', 'Stock', 'CRM'],
        openSource: 'Odoo, Prestashop, WooCommerce',
        examples: 'Synchronisation automatique des stocks entre site web et ERP, personnalisation des recommandations'
      },
      {
        id: 13,
        nom: 'SAV',
        icon: 'bi-headset',
        desc: 'Service client',
        details: 'Le module SAV (Service Après-Vente) gère les réclamations et demandes d\'assistance. Il permet de prioriser et suivre les tickets jusqu\'à leur résolution.',
        inputs: 'Demandes clients, garanties, retours produits',
        outputs: 'Tickets, solutions documentées, analyses de satisfaction',
        links: ['CRM', 'Stock', 'Facturation'],
        openSource: 'Zammad, GLPI, Odoo',
        examples: 'Gestion des retours sous garantie, suivi du temps moyen de résolution'
      },
      {
        id: 14,
        nom: 'Planning',
        icon: 'bi-calendar-week',
        desc: 'Gestion des plannings',
        details: 'Le module Planning optimise l\'utilisation des ressources (humaines, machines). Il gère les disponibilités, les congés et les affectations aux projets.',
        inputs: 'Ressources, contraintes, demandes',
        outputs: 'Plannings, alertes de conflits, taux d\'occupation',
        links: ['RH', 'Projets', 'Production'],
        openSource: 'Dolibarr, ERPNext, Odoo',
        examples: 'Planification des équipes en 3x8, gestion des ressources partagées'
      },
      {
        id: 15,
        nom: 'Budgets',
        icon: 'bi-piggy-bank',
        desc: 'Gestion budgétaire',
        details: 'Le module Budgets permet de créer, suivre et analyser les budgets par centre de coût. Il compare les prévisions aux réalisations et génère des alertes.',
        inputs: 'Objectifs financiers, historiques, modèles',
        outputs: 'Budgets, analyses d\'écarts, prévisions révisées',
        links: ['Comptabilité', 'Projets', 'Achats'],
        openSource: 'ERPNext, Axelor, Odoo',
        examples: 'Suivi des dépenses par département, analyse des écarts budgétaires'
      },
      {
        id: 16,
        nom: 'GED',
        icon: 'bi-folder',
        desc: 'Gestion électronique de documents',
        details: 'Le module GED (Gestion Electronique de Documents) centralise et sécurise les documents de l\'entreprise. Il offre des outils de recherche, versioning et workflow d\'approbation.',
        inputs: 'Documents numérisés, fichiers natifs, métadonnées',
        outputs: 'Documents classés, historiques de modification, alertes',
        links: ['Tous les modules'],
        openSource: 'Nextcloud, Alfresco, Odoo',
        examples: 'Archivage des factures fournisseurs, gestion des contrats avec alertes d\'échéance'
      },
      {
        id: 17,
        nom: 'Workflows',
        icon: 'bi-diagram-3',
        desc: 'Automatisation des processus',
        details: 'Le module Workflows permet de modéliser et automatiser les processus métier. Il gère les validations en cascade, les notifications et les intégrations entre modules.',
        inputs: 'Processus à automatiser, règles métier, acteurs',
        outputs: 'Processus exécutés, notifications, historiques d\'approbation',
        links: ['Tous les modules'],
        openSource: 'Bonita BPM, Camunda, Odoo',
        examples: 'Workflow d\'approbation des commandes, circuit de validation des congés'
      },
      {
        id: 18,
        nom: 'API / Intégration',
        icon: 'bi-plug',
        desc: 'Connexion à d\'autres applications',
        details: 'Le module API permet d\'échanger des données avec d\'autres systèmes. Il expose des points d\'accès sécurisés et gère les formats d\'échange (JSON, XML).',
        inputs: 'Requêtes externes, données à synchroniser',
        outputs: 'Réponses API, données mises à jour',
        links: ['Tous les modules'],
        openSource: 'WSO2, MuleSoft, Zapier',
        examples: 'Synchronisation avec un site e-commerce, intégration avec un outil de BI'
      },
      {
        id: 19,
        nom: 'Utilisateurs & Rôles',
        icon: 'bi-shield-lock',
        desc: 'Gestion des accès',
        details: 'Le module Utilisateurs gère les comptes et les droits d\'accès. Il permet de définir des profils avec des permissions granulaires sur les données et fonctionnalités.',
        inputs: 'Utilisateurs, profils métier, règles de sécurité',
        outputs: 'Comptes actifs, journaux d\'accès, alertes de sécurité',
        links: ['Tous les modules'],
        openSource: 'Keycloak, Odoo, ERPNext',
        examples: 'Gestion centralisée des accès, audit des connexions sensibles'
      },
      {
        id: 20,
        nom: 'Conformité',
        icon: 'bi-file-earmark-check',
        desc: 'RGPD, normes',
        details: 'Le module Conformité aide à respecter les réglementations (RGPD, ISO). Il gère les consentements, les audits et les processus de mise en conformité.',
        inputs: 'Réglementations, données sensibles, processus',
        outputs: 'Politiques documentées, preuves de conformité, alertes',
        links: ['Tous les modules'],
        openSource: 'Modules RGPD Odoo, solutions externes',
        examples: 'Gestion des demandes d\'accès RGPD, audit des traitements de données'
      }
    ];

    // Simulation data
    let simulationState = {
      clientCreated: false,
      quoteCreated: false,
      orderCreated: false,
      deliveryProcessed: false,
      invoiceCreated: false,
      accountingEntryCreated: false
    };

    let purchaseSimulationState = {
      needDetected: false,
      requestCreated: false,
      requestApproved: false,
      poCreated: false,
      goodsReceived: false,
      invoiceProcessed: false,
      paymentDone: false
    };

    let hrSimulationState = {
      employeeCreated: false,
      contractCreated: false,
      leaveManaged: false,
      payrollProcessed: false,
      accountingImpactDone: false
    };

    let productionSimulationState = {
        planProduction: false,
        reserveComponents: false,
        startProduction: false,
        trackProduction: false,
        completeProduction: false
    };

    let projectSimulationState = {
        initProject: false,
        planTasks: false,
        assignResources: false,
        trackProgress: false,
        closeProject: false
    };

    let savSimulationState = {
        createTicket: false,
        diagnose: false,
        repair: false,
        updateStock: false,
        closeTicket: false
    };

    let budgetSimulationState = {
        prepareBudget: false,
        approveBudget: false,
        allocateBudget: false,
        trackBudget: false,
        analyzeBudget: false
    };

    // New simulation states for EA and Data Driven
    let eaSimulationState = {
        defineVision: false,
        modelBusinessArch: false,
        modelDataArch: false,
        modelAppArch: false,
        modelTechArch: false,
        governance: false,
        optimize: false
    };

    let dataDrivenSimulationState = {
        defineObjectives: false,
        collectIntegrate: false,
        cleanPrepare: false,
        analyzeInsights: false,
        visualizeCommunicate: false,
        decisionMaking: false,
        measureCulture: false
    };


    // DOM elements
    const container = document.getElementById('moduleList');
    const modalTitle = document.getElementById('moduleModalLabel');
    const modalContent = document.getElementById('moduleModalContent');
    const moduleSearch = document.getElementById('moduleSearch');

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderModules();
      setupSearch();
    });

    // Render all modules
    function renderModules(filter = '') {
      container.innerHTML = '';

      const filteredModules = modules.filter(module =>
        module.nom.toLowerCase().includes(filter.toLowerCase()) ||
        module.desc.toLowerCase().includes(filter.toLowerCase())
      );

      filteredModules.forEach((mod, index) => {
        const col = document.createElement('div');
        col.className = 'col module-card';
        col.innerHTML = `
          <div class="card h-100">
            <div class="card-header d-flex align-items-center">
              <i class="bi ${mod.icon} me-2"></i>
              <h5 class="mb-0">${mod.nom}</h5>
            </div>
            <div class="card-body">
              <p class="card-text">${mod.desc}</p>
              <button class="btn btn-primary btn-sm" onclick="showModuleDetails(${mod.id})">
                <i class="bi bi-info-circle me-1"></i>Détails
              </button>
            </div>
          </div>
        `;
        container.appendChild(col);
      });
    }

    // Setup search functionality
    function setupSearch() {
      moduleSearch.addEventListener('input', function() {
        renderModules(this.value);
      });

      document.getElementById('searchButton').addEventListener('click', function() {
        renderModules(moduleSearch.value);
      });
    }

    // Show module details in modal
    function showModuleDetails(moduleId) {
      const mod = modules.find(m => m.id === moduleId);
      if (!mod) return;

      modalTitle.textContent = mod.nom;

      let linkedModulesHtml = '';
      if (mod.links && mod.links.length > 0) {
        linkedModulesHtml = `<div class="linked-modules">
          <span class="fw-bold">Modules liés:</span>
          ${mod.links.map(link => `<span class="linked-module">${link}</span>`).join('')}
        </div>`;
      }

      modalContent.innerHTML = `
        <div class="mb-3">
          <i class="bi ${mod.icon} fs-1 text-primary"></i>
          <h4 class="d-inline-block ms-3">${mod.nom}</h4>
        </div>

        <div class="highlight-box">
          <p><strong>Description:</strong> ${mod.details}</p>
        </div>

        <div class="row mt-3">
          <div class="col-md-6">
            <h5><i class="bi bi-box-arrow-in-down me-2"></i>Entrées</h5>
            <p>${mod.inputs}</p>
          </div>
          <div class="col-md-6">
            <h5><i class="bi bi-box-arrow-up me-2"></i>Sorties</h5>
            <p>${mod.outputs}</p>
          </div>
        </div>

        ${linkedModulesHtml}

        <div class="mt-4">
          <h5><i class="bi bi-lightbulb me-2"></i>Exemples concrets</h5>
          <p>${mod.examples}</p>
        </div>

        <div class="mt-4">
          <h5><i class="bi bi-code-slash me-2"></i>Exemples d'ERP Open Source</h5>
          <p>${mod.openSource}</p>
        </div>
      `;

      const moduleModal = new bootstrap.Modal(document.getElementById('moduleModal'));
      moduleModal.show();
    }

    // --- Vente Simulation Functions ---
    function simulateStep(step) {
      switch (step) {
        case 'createClient':
          document.getElementById('clientForm').style.display = 'block';
          break;
        case 'createQuote':
          document.getElementById('quoteForm').style.display = 'block';
          updateQuoteTotals();
          break;
        case 'convertOrder':
          document.getElementById('orderResult').style.display = 'block';
          document.getElementById('orderResult').innerHTML = `
            <div class="alert alert-success">
              <p>Devis <strong>DEV-2023-001</strong> converti en commande client <strong>CMD-2023-001</strong>.</p>
              <p>Statut de la commande: En attente de livraison.</p>
              <p>Stock des articles réservé.</p>
            </div>
          `;
          simulationState.orderCreated = true;
          document.getElementById('convertOrderBtn').disabled = true;
          document.getElementById('deliveryBtn').disabled = false;
          break;
        case 'processDelivery':
          document.getElementById('deliveryResult').style.display = 'block';
          document.getElementById('deliveryResult').innerHTML = `
            <div class="alert alert-success">
              <p>Livraison effectuée pour la commande <strong>CMD-2023-001</strong>.</p>
              <p>Stock mis à jour pour les articles livrés (Ordinateur portable Pro: -1).</p>
              <p>Statut de la commande: Livrée.</p>
              <p>Bon de livraison généré: BL-2023-001.</p>
            </div>
          `;
          simulationState.deliveryProcessed = true;
          document.getElementById('deliveryBtn').disabled = true;
          document.getElementById('invoiceBtn').disabled = false;
          break;
        case 'createInvoice':
          document.getElementById('invoiceResult').style.display = 'block';
          document.getElementById('invoiceResult').innerHTML = `
            <div class="alert alert-success">
              <p>Facture <strong>FAC-2023-001</strong> générée pour la commande <strong>CMD-2023-001</strong>.</p>
              <p>Montant TTC: <span id="finalInvoiceAmount"></span> €.</p>
              <p>Statut de la facture: En attente de paiement.</p>
            </div>
          `;
          document.getElementById('finalInvoiceAmount').textContent = document.getElementById('quoteTotalTTC').textContent;
          simulationState.invoiceCreated = true;
          document.getElementById('invoiceBtn').disabled = true;
          document.getElementById('accountingBtn').disabled = false;
          break;
        case 'createAccountingEntry':
          document.getElementById('accountingResult').style.display = 'block';
          document.getElementById('accountingResult').innerHTML = `
            <div class="alert alert-success">
              <p>Écriture comptable générée pour la facture <strong>FAC-2023-001</strong>.</p>
              <table class="table table-sm data-table">
                <thead>
                  <tr><th>Compte</th><th>Libellé</th><th>Débit</th><th>Crédit</th></tr>
                </thead>
                <tbody>
                  <tr><td>411000</td><td>Clients</td><td>${document.getElementById('quoteTotalTTC').textContent} €</td><td></td></tr>
                  <tr><td>707000</td><td>Ventes de marchandises</td><td></td><td>${document.getElementById('quoteTotalHT').textContent} €</td></tr>
                  <tr><td>445710</td><td>TVA collectée</td><td></td><td>${document.getElementById('quoteTVA').textContent} €</td></tr>
                </tbody>
              </table>
              <p>La trésorerie sera mise à jour lors de l'encaissement.</p>
            </div>
          `;
          simulationState.accountingEntryCreated = true;
          document.getElementById('accountingBtn').disabled = true;
          break;
      }
    }

    function saveClient() {
      const clientName = document.getElementById('clientName').value;
      const clientAddress = document.getElementById('clientAddress').value;
      const clientSiret = document.getElementById('clientSiret').value;

      document.getElementById('clientResult').style.display = 'block';
      document.getElementById('clientResult').innerHTML = `
        <div class="alert alert-success">
          <p>Client <strong>${clientName}</strong> (SIRET: ${clientSiret}) créé avec succès.</p>
          <p>ID Client: C0001</p>
        </div>
      `;
      simulationState.clientCreated = true;
      document.getElementById('createQuoteBtn').disabled = false;
      document.getElementById('clientForm').style.display = 'none';

      // Add client to quote client select
      const quoteClientSelect = document.getElementById('quoteClient');
      const option = document.createElement('option');
      option.value = 'C0001';
      option.textContent = clientName;
      quoteClientSelect.appendChild(option);
      quoteClientSelect.value = 'C0001'; // Select the newly created client
    }

    let quoteItemCounter = 1;
    function addQuoteItem() {
      quoteItemCounter++;
      const tableBody = document.getElementById('quoteItemsTable').querySelector('tbody');
      const newRow = document.createElement('tr');
      newRow.innerHTML = `
        <td>
          <select class="form-select form-select-sm" id="quoteItem${quoteItemCounter}">
            <option value="">Sélectionner</option>
            <option value="1">Ordinateur portable Pro</option>
            <option value="2">Écran 24"</option>
            <option value="3">Clavier sans fil</option>
            <option value="4">Souris ergonomique</option>
          </select>
        </td>
        <td><input type="number" class="form-control form-control-sm" id="quoteQty${quoteItemCounter}" value="1" min="1"></td>
        <td><input type="number" class="form-control form-control-sm" id="quotePrice${quoteItemCounter}" value="0" step="0.01"></td>
        <td><span id="quoteTotal${quoteItemCounter}">0.00</span> €</td>
        <td><button type="button" class="btn btn-sm btn-outline-danger" onclick="removeQuoteItem(${quoteItemCounter})"><i class="bi bi-trash"></i></button></td>
      `;
      tableBody.appendChild(newRow);

      // Add event listeners for new inputs
      document.getElementById(`quoteQty${quoteItemCounter}`).addEventListener('input', updateQuoteTotals);
      document.getElementById(`quotePrice${quoteItemCounter}`).addEventListener('input', updateQuoteTotals);
      document.getElementById(`quoteItem${quoteItemCounter}`).addEventListener('change', updateQuoteItemPrice);
      updateQuoteTotals();
    }

    function removeQuoteItem(id) {
      const itemRow = document.getElementById(`quoteQty${id}`).closest('tr');
      itemRow.remove();
      updateQuoteTotals();
    }

    function updateQuoteItemPrice(event) {
        const selectElement = event.target;
        const row = selectElement.closest('tr');
        const priceInput = row.querySelector('input[id^="quotePrice"]');
        const selectedValue = selectElement.value;

        // Simulate prices based on item selection
        switch(selectedValue) {
            case '1': priceInput.value = 1200; break; // Ordinateur portable Pro
            case '2': priceInput.value = 250; break;  // Écran 24"
            case '3': priceInput.value = 50; break;   // Clavier sans fil
            case '4': priceInput.value = 30; break;   // Souris ergonomique
            default: priceInput.value = 0; break;
        }
        updateQuoteTotals();
    }

    // Add event listeners for initial items
    document.getElementById('quoteQty1').addEventListener('input', updateQuoteTotals);
    document.getElementById('quotePrice1').addEventListener('input', updateQuoteTotals);
    document.getElementById('quoteItem1').addEventListener('change', updateQuoteItemPrice);


    function saveQuote() {
      const quoteClient = document.getElementById('quoteClient').value;
      const quoteValidity = document.getElementById('quoteValidity').value;
      const totalTTC = document.getElementById('quoteTotalTTC').textContent;

      if (!quoteClient) {
        alert("Veuillez sélectionner un client.");
        return;
      }

      document.getElementById('quoteResult').style.display = 'block';
      document.getElementById('quoteResult').innerHTML = `
        <div class="alert alert-success">
          <p>Devis <strong>DEV-2023-001</strong> créé pour le client ID <strong>${quoteClient}</strong>.</p>
          <p>Valide pendant ${quoteValidity} jours.</p>
          <p>Montant total TTC: <strong>${totalTTC} €</strong>.</p>
        </div>
      `;
      simulationState.quoteCreated = true;
      document.getElementById('convertOrderBtn').disabled = false;
      document.getElementById('quoteForm').style.display = 'none';
    }

    function resetSimulation() {
      simulationState = {
        clientCreated: false,
        quoteCreated: false,
        orderCreated: false,
        deliveryProcessed: false,
        invoiceCreated: false,
        accountingEntryCreated: false
      };

      document.getElementById('clientForm').style.display = 'none';
      document.getElementById('clientResult').style.display = 'none';
      document.getElementById('quoteForm').style.display = 'none';
      document.getElementById('quoteResult').style.display = 'none';
      document.getElementById('orderResult').style.display = 'none';
      document.getElementById('deliveryResult').style.display = 'none';
      document.getElementById('invoiceResult').style.display = 'none';
      document.getElementById('accountingResult').style.display = 'none';

      document.getElementById('createQuoteBtn').disabled = true;
      document.getElementById('convertOrderBtn').disabled = true;
      document.getElementById('deliveryBtn').disabled = true;
      document.getElementById('invoiceBtn').disabled = true;
      document.getElementById('accountingBtn').disabled = true;

      // Reset quote items
      const tableBody = document.getElementById('quoteItemsTable').querySelector('tbody');
      tableBody.innerHTML = `
        <tr>
          <td>
            <select class="form-select form-select-sm" id="quoteItem1">
              <option value="">Sélectionner</option>
              <option value="1">Ordinateur portable Pro</option>
              <option value="2">Écran 24"</option>
              <option value="3">Clavier sans fil</option>
              <option value="4">Souris ergonomique</option>
            </select>
          </td>
          <td><input type="number" class="form-control form-control-sm" id="quotePrice1" value="1200" step="0.01"></td>
          <td><span id="quoteTotal1">1200.00</span> €</td>
          <td><button type="button" class="btn btn-sm btn-outline-danger" onclick="removeQuoteItem(1)"><i class="bi bi-trash"></i></button></td>
        </tr>
      `;
      quoteItemCounter = 1;
      document.getElementById('quoteQty1').value = "1"; // Reset quantity too
      document.getElementById('quoteQty1').addEventListener('input', updateQuoteTotals);
      document.getElementById('quotePrice1').addEventListener('input', updateQuoteTotals);
      document.getElementById('quoteItem1').addEventListener('change', updateQuoteItemPrice);
      updateQuoteTotals();

      const quoteClientSelect = document.getElementById('quoteClient');
      quoteClientSelect.innerHTML = '<option value="">Sélectionner un client</option>';
      document.getElementById('clientName').value = "Dupont SA";
      document.getElementById('clientAddress').value = "12 Rue de Paris, 75001";
      document.getElementById('clientSiret').value = "12345678900012";
    }

    // --- Achat Simulation Functions ---
    function simulatePurchaseStep(step) {
      switch (step) {
        case 'detectNeed':
          document.getElementById('needResult').style.display = 'block';
          purchaseSimulationState.needDetected = true;
          document.getElementById('createRequestBtn').disabled = false;
          break;
        case 'createRequest':
          document.getElementById('requestResult').style.display = 'block';
          document.getElementById('requestResult').innerHTML = `
            <div class="alert alert-success">
              <p>Demande d'achat <strong>DA-2023-005</strong> créée pour "Écran 24"" (10 unités).</p>
              <p>Demandeur: Service Logistique.</p>
              <p>Statut: En attente de validation.</p>
            </div>
          `;
          purchaseSimulationState.requestCreated = true;
          document.getElementById('createRequestBtn').disabled = true;
          document.getElementById('approveRequestBtn').disabled = false;
          break;
        case 'approveRequest':
          document.getElementById('approvalResult').style.display = 'block';
          document.getElementById('approvalResult').innerHTML = `
            <div class="alert alert-success">
              <p>Demande d'achat <strong>DA-2023-005</strong> validée par le Responsable des Achats.</p>
              <p>Budget vérifié et approuvé.</p>
            </div>
          `;
          purchaseSimulationState.requestApproved = true;
          document.getElementById('approveRequestBtn').disabled = true;
          document.getElementById('createPOBtn').disabled = false;
          break;
        case 'createPO':
          document.getElementById('poResult').style.display = 'block';
          document.getElementById('poResult').innerHTML = `
            <div class="alert alert-success">
              <p>Bon de commande <strong>BC-2023-003</strong> créé et envoyé au fournisseur "TechSupply".</p>
              <p>Article: Écran 24" - Quantité: 10 - Prix unitaire: 220,00 €.</p>
              <p>Date de livraison estimée: ${new Date(new Date().getTime() + 10*24*60*60*1000).toLocaleDateString()}.</p>
            </div>
          `;
          purchaseSimulationState.poCreated = true;
          document.getElementById('createPOBtn').disabled = true;
          document.getElementById('receiveGoodsBtn').disabled = false;
          break;
        case 'receiveGoods':
          document.getElementById('receptionResult').style.display = 'block';
          document.getElementById('receptionResult').innerHTML = `
            <div class="alert alert-success">
              <p>Réception de marchandises enregistrée pour le bon de commande <strong>BC-2023-003</strong>.</p>
              <p>Articles reçus: Écran 24" (10 unités).</p>
              <p>Stock de "Écran 24"" mis à jour: 3 → 13 unités.</p>
              <p>Mise à jour du statut du bon de commande: Reçu partiellement/complètement.</p>
            </div>
          `;
          purchaseSimulationState.goodsReceived = true;
          document.getElementById('receiveGoodsBtn').disabled = true;
          document.getElementById('supplierInvoiceBtn').disabled = false;
          break;
        case 'processSupplierInvoice':
          document.getElementById('supplierInvoiceResult').style.display = 'block';
          document.getElementById('supplierInvoiceResult').innerHTML = `
            <div class="alert alert-success">
              <p>Facture fournisseur <strong>FV-2023-007</strong> de "TechSupply" traitée.</p>
              <p>Montant total: 2 640,00 € (TTC).</p>
              <p>Rapprochement effectué avec le bon de commande et la réception.</p>
              <p>Écriture comptable générée (débit du compte fournisseur, crédit du compte de charge).</p>
            </div>
          `;
          purchaseSimulationState.invoiceProcessed = true;
          document.getElementById('supplierInvoiceBtn').disabled = true;
          document.getElementById('paymentBtn').disabled = false;
          break;
        case 'processPayment':
          document.getElementById('paymentResult').style.display = 'block';
          document.getElementById('paymentResult').innerHTML = `
            <div class="alert alert-success">
              <p>Paiement de la facture fournisseur <strong>FV-2023-007</strong> effectué à "TechSupply".</p>
              <p>Montant: 2 640,00 €.</p>
              <p>Impact sur la trésorerie et la comptabilité (solde du compte fournisseur).</p>
            </div>
          `;
          purchaseSimulationState.paymentDone = true;
          document.getElementById('paymentBtn').disabled = true;
          break;
      }
    }

    function resetPurchaseSimulation() {
      purchaseSimulationState = {
        needDetected: false,
        requestCreated: false,
        requestApproved: false,
        poCreated: false,
        goodsReceived: false,
        invoiceProcessed: false,
        paymentDone: false
      };

      document.getElementById('needResult').style.display = 'none';
      document.getElementById('requestResult').style.display = 'none';
      document.getElementById('approvalResult').style.display = 'none';
      document.getElementById('poResult').style.display = 'none';
      document.getElementById('receptionResult').style.display = 'none';
      document.getElementById('supplierInvoiceResult').style.display = 'none';
      document.getElementById('paymentResult').style.display = 'none';

      document.getElementById('createRequestBtn').disabled = true;
      document.getElementById('approveRequestBtn').disabled = true;
      document.getElementById('createPOBtn').disabled = true;
      document.getElementById('receiveGoodsBtn').disabled = true;
      document.getElementById('supplierInvoiceBtn').disabled = true;
      document.getElementById('paymentBtn').disabled = true;
    }

    // --- RH Simulation Functions ---
    let currentEmployee = {};

    function simulateHRStep(step) {
      switch (step) {
        case 'recruitment':
          document.getElementById('recruitmentForm').style.display = 'block';
          break;
        case 'createContract':
          document.getElementById('contractResult').style.display = 'block';
          document.getElementById('contractResult').innerHTML = `
            <div class="alert alert-success">
              <p>Contrat de travail créé pour <strong>${currentEmployee.firstName} ${currentEmployee.lastName}</strong> (${currentEmployee.position}).</p>
              <p>Type de contrat: CDI - Date d'embauche: ${currentEmployee.hireDate}.</p>
              <p>Salaire brut annuel: ${currentEmployee.salary} €.</p>
              <p>Déclaration préalable à l'embauche (DPAE) envoyée.</p>
            </div>
          `;
          hrSimulationState.contractCreated = true;
          document.getElementById('createContractBtn').disabled = true;
          document.getElementById('manageLeaveBtn').disabled = false;
          break;
        case 'manageLeave':
          document.getElementById('leaveResult').style.display = 'block';
          document.getElementById('leaveResult').innerHTML = `
            <div class="alert alert-success">
              <p>Demande de congés pour <strong>${currentEmployee.firstName} ${currentEmployee.lastName}</strong> du 15/07/2024 au 26/07/2024 (10 jours ouvrés) approuvée.</p>
              <p>Solde de congés mis à jour.</p>
              <p>Planning de l'équipe mis à jour.</p>
            </div>
          `;
          hrSimulationState.leaveManaged = true;
          document.getElementById('manageLeaveBtn').disabled = true;
          document.getElementById('processPayrollBtn').disabled = false;
          break;
        case 'processPayroll':
          document.getElementById('payrollResult').style.display = 'block';
          document.getElementById('payrollResult').innerHTML = `
            <div class="alert alert-success">
              <p>Paie du mois de Juin 2024 traitée pour <strong>${currentEmployee.firstName} ${currentEmployee.lastName}</strong>.</p>
              <p>Salaire net: ${(currentEmployee.salary / 12 * 0.75).toFixed(2)} € (simulation après charges et impôts).</p>
              <p>Bulletin de paie généré et disponible en ligne.</p>
              <p>Déclarations sociales préparées.</p>
            </div>
          `;
          hrSimulationState.payrollProcessed = true;
          document.getElementById('processPayrollBtn').disabled = true;
          document.getElementById('hrAccountingBtn').disabled = false;
          break;
        case 'hrAccounting':
          document.getElementById('hrAccountingResult').style.display = 'block';
          document.getElementById('hrAccountingResult').innerHTML = `
            <div class="alert alert-success">
              <p>Écriture comptable de la paie générée.</p>
              <table class="table table-sm data-table">
                <thead>
                  <tr><th>Compte</th><th>Libellé</th><th>Débit</th><th>Crédit</th></tr>
                </thead>
                <tbody>
                  <tr><td>641000</td><td>Salaires bruts</td><td>${(currentEmployee.salary / 12).toFixed(2)} €</td><td></td></tr>
                  <tr><td>421000</td><td>Personnel - Rémunérations dues</td><td></td><td>${(currentEmployee.salary / 12 * 0.75).toFixed(2)} €</td></tr>
                  <tr><td>431000</td><td>Organismes sociaux</td><td></td><td>${(currentEmployee.salary / 12 * 0.25).toFixed(2)} €</td></tr>
                  <tr><td colspan="4"><small><i>(Simplification des comptes pour la simulation)</i></small></td></tr>
                </tbody>
              </table>
              <p>Les charges patronales sont également enregistrées.</p>
            </div>
          `;
          hrSimulationState.accountingImpactDone = true;
          document.getElementById('hrAccountingBtn').disabled = true;
          break;
      }
    }

    function saveEmployee() {
      currentEmployee = {
        lastName: document.getElementById('employeeName').value,
        firstName: document.getElementById('employeeFirstName').value,
        position: document.getElementById('employeePosition').value,
        hireDate: document.getElementById('employeeHireDate').value,
        salary: parseFloat(document.getElementById('employeeSalary').value),
        department: document.getElementById('employeeDepartment').value
      };

      document.getElementById('recruitmentResult').style.display = 'block';
      document.getElementById('recruitmentResult').innerHTML = `
        <div class="alert alert-success">
          <p>Employé <strong>${currentEmployee.firstName} ${currentEmployee.lastName}</strong> recruté.</p>
          <p>Poste: ${currentEmployee.position} - Service: ${currentEmployee.department}.</p>
          <p>ID Employé: EMP-001.</p>
        </div>
      `;
      hrSimulationState.employeeCreated = true;
      document.getElementById('createContractBtn').disabled = false;
      document.getElementById('recruitmentForm').style.display = 'none';
    }

    function resetHRSimulation() {
      hrSimulationState = {
        employeeCreated: false,
        contractCreated: false,
        leaveManaged: false,
        payrollProcessed: false,
        accountingImpactDone: false
      };
      currentEmployee = {};

      document.getElementById('recruitmentForm').style.display = 'none';
      document.getElementById('recruitmentResult').style.display = 'none';
      document.getElementById('contractResult').style.display = 'none';
      document.getElementById('leaveResult').style.display = 'none';
      document.getElementById('payrollResult').style.display = 'none';
      document.getElementById('hrAccountingResult').style.display = 'none';

      document.getElementById('createContractBtn').disabled = true;
      document.getElementById('manageLeaveBtn').disabled = true;
      document.getElementById('processPayrollBtn').disabled = true;
      document.getElementById('hrAccountingBtn').disabled = true;

      document.getElementById('employeeName').value = "Martin";
      document.getElementById('employeeFirstName').value = "Sophie";
      document.getElementById('employeePosition').value = "Développeur";
      document.getElementById('employeeHireDate').value = "2023-06-01";
      document.getElementById('employeeSalary').value = "35000";
      document.getElementById('employeeDepartment').value = "IT";
    }

    // --- Production Simulation Functions ---
    function simulateProductionStep(step) {
        switch (step) {
            case 'planProduction':
                document.getElementById('planProductionResult').style.display = 'block';
                productionSimulationState.planProduction = true;
                document.getElementById('reserveComponentsBtn').disabled = false;
                break;
            case 'reserveComponents':
                document.getElementById('reserveComponentsResult').style.display = 'block';
                productionSimulationState.reserveComponents = true;
                document.getElementById('reserveComponentsBtn').disabled = true;
                document.getElementById('startProductionBtn').disabled = false;
                break;
            case 'startProduction':
                document.getElementById('startProductionResult').style.display = 'block';
                productionSimulationState.startProduction = true;
                document.getElementById('startProductionBtn').disabled = true;
                document.getElementById('trackProductionBtn').disabled = false;
                break;
            case 'trackProduction':
                document.getElementById('trackProductionResult').style.display = 'block';
                productionSimulationState.trackProduction = true;
                document.getElementById('trackProductionBtn').disabled = true;
                document.getElementById('completeProductionBtn').disabled = false;
                break;
            case 'completeProduction':
                document.getElementById('completeProductionResult').style.display = 'block';
                productionSimulationState.completeProduction = true;
                document.getElementById('completeProductionBtn').disabled = true;
                break;
        }
    }

    function resetProductionSimulation() {
        productionSimulationState = {
            planProduction: false,
            reserveComponents: false,
            startProduction: false,
            trackProduction: false,
            completeProduction: false
        };
        document.getElementById('planProductionResult').style.display = 'none';
        document.getElementById('reserveComponentsResult').style.display = 'none';
        document.getElementById('startProductionResult').style.display = 'none';
        document.getElementById('trackProductionResult').style.display = 'none';
        document.getElementById('completeProductionResult').style.display = 'none';

        document.getElementById('reserveComponentsBtn').disabled = true;
        document.getElementById('startProductionBtn').disabled = true;
        document.getElementById('trackProductionBtn').disabled = true;
        document.getElementById('completeProductionBtn').disabled = true;
    }

    // --- Project Simulation Functions ---
    function simulateProjectStep(step) {
        switch (step) {
            case 'initProject':
                document.getElementById('initProjectResult').style.display = 'block';
                projectSimulationState.initProject = true;
                document.getElementById('planTasksBtn').disabled = false;
                break;
            case 'planTasks':
                document.getElementById('planTasksResult').style.display = 'block';
                projectSimulationState.planTasks = true;
                document.getElementById('planTasksBtn').disabled = true;
                document.getElementById('assignResourcesBtn').disabled = false;
                break;
            case 'assignResources':
                document.getElementById('assignResourcesResult').style.display = 'block';
                projectSimulationState.assignResources = true;
                document.getElementById('assignResourcesBtn').disabled = true;
                document.getElementById('trackProgressBtn').disabled = false;
                break;
            case 'trackProgress':
                document.getElementById('trackProgressResult').style.display = 'block';
                projectSimulationState.trackProgress = true;
                document.getElementById('trackProgressBtn').disabled = true;
                document.getElementById('closeProjectBtn').disabled = false;
                break;
            case 'closeProject':
                document.getElementById('closeProjectResult').style.display = 'block';
                projectSimulationState.closeProject = true;
                document.getElementById('closeProjectBtn').disabled = true;
                break;
        }
    }

    function resetProjectSimulation() {
        projectSimulationState = {
            initProject: false,
            planTasks: false,
            assignResources: false,
            trackProgress: false,
            closeProject: false
        };
        document.getElementById('initProjectResult').style.display = 'none';
        document.getElementById('planTasksResult').style.display = 'none';
        document.getElementById('assignResourcesResult').style.display = 'none';
        document.getElementById('trackProgressResult').style.display = 'none';
        document.getElementById('closeProjectResult').style.display = 'none';

        document.getElementById('planTasksBtn').disabled = true;
        document.getElementById('assignResourcesBtn').disabled = true;
        document.getElementById('trackProgressBtn').disabled = true;
        document.getElementById('closeProjectBtn').disabled = true;
    }

    // --- SAV Simulation Functions ---
    function simulateSavStep(step) {
        switch (step) {
            case 'createTicket':
                document.getElementById('createTicketResult').style.display = 'block';
                savSimulationState.createTicket = true;
                document.getElementById('diagnoseBtn').disabled = false;
                break;
            case 'diagnose':
                document.getElementById('diagnoseResult').style.display = 'block';
                savSimulationState.diagnose = true;
                document.getElementById('diagnoseBtn').disabled = true;
                document.getElementById('repairBtn').disabled = false;
                break;
            case 'repair':
                document.getElementById('repairResult').style.display = 'block';
                savSimulationState.repair = true;
                document.getElementById('repairBtn').disabled = true;
                document.getElementById('updateStockBtn').disabled = false;
                break;
            case 'updateStock':
                document.getElementById('updateStockResult').style.display = 'block';
                savSimulationState.updateStock = true;
                document.getElementById('updateStockBtn').disabled = true;
                document.getElementById('closeTicketBtn').disabled = false;
                break;
            case 'closeTicket':
                document.getElementById('closeTicketResult').style.display = 'block';
                savSimulationState.closeTicket = true;
                document.getElementById('closeTicketBtn').disabled = true;
                break;
        }
    }

    function resetSavSimulation() {
        savSimulationState = {
            createTicket: false,
            diagnose: false,
            repair: false,
            updateStock: false,
            closeTicket: false
        };
        document.getElementById('createTicketResult').style.display = 'none';
        document.getElementById('diagnoseResult').style.display = 'none';
        document.getElementById('repairResult').style.display = 'none';
        document.getElementById('updateStockResult').style.display = 'none';
        document.getElementById('closeTicketResult').style.display = 'none';

        document.getElementById('diagnoseBtn').disabled = true;
        document.getElementById('repairBtn').disabled = true;
        document.getElementById('updateStockBtn').disabled = true;
        document.getElementById('closeTicketBtn').disabled = true;
    }

    // --- Budget Simulation Functions ---
    function simulateBudgetStep(step) {
        switch (step) {
            case 'prepareBudget':
                document.getElementById('prepareBudgetResult').style.display = 'block';
                budgetSimulationState.prepareBudget = true;
                document.getElementById('approveBudgetBtn').disabled = false;
                break;
            case 'approveBudget':
                document.getElementById('approveBudgetResult').style.display = 'block';
                budgetSimulationState.approveBudget = true;
                document.getElementById('approveBudgetBtn').disabled = true;
                document.getElementById('allocateBudgetBtn').disabled = false;
                break;
            case 'allocateBudget':
                document.getElementById('allocateBudgetResult').style.display = 'block';
                budgetSimulationState.allocateBudget = true;
                document.getElementById('allocateBudgetBtn').disabled = true;
                document.getElementById('trackBudgetBtn').disabled = false;
                break;
            case 'trackBudget':
                document.getElementById('trackBudgetResult').style.display = 'block';
                budgetSimulationState.trackBudget = true;
                document.getElementById('trackBudgetBtn').disabled = true;
                document.getElementById('analyzeBudgetBtn').disabled = false;
                break;
            case 'analyzeBudget':
                document.getElementById('analyzeBudgetResult').style.display = 'block';
                budgetSimulationState.analyzeBudget = true;
                document.getElementById('analyzeBudgetBtn').disabled = true;
                break;
        }
    }

    function resetBudgetSimulation() {
        budgetSimulationState = {
            prepareBudget: false,
            approveBudget: false,
            allocateBudget: false,
            trackBudget: false,
            analyzeBudget: false
        };
        document.getElementById('prepareBudgetResult').style.display = 'none';
        document.getElementById('approveBudgetResult').style.display = 'none';
        document.getElementById('allocateBudgetResult').style.display = 'none';
        document.getElementById('trackBudgetResult').style.display = 'none';
        document.getElementById('analyzeBudgetResult').style.display = 'none';

        document.getElementById('approveBudgetBtn').disabled = true;
        document.getElementById('allocateBudgetBtn').disabled = true;
        document.getElementById('trackBudgetBtn').disabled = true;
        document.getElementById('analyzeBudgetBtn').disabled = true;
    }

    // --- Enterprise Architecture Simulation Functions ---
    function simulateEAStep(step) {
        switch (step) {
            case 'defineVision':
                document.getElementById('eaVisionResult').style.display = 'block';
                eaSimulationState.defineVision = true;
                document.getElementById('eaBusinessArchBtn').disabled = false;
                break;
            case 'modelBusinessArch':
                document.getElementById('eaBusinessArchResult').style.display = 'block';
                eaSimulationState.modelBusinessArch = true;
                document.getElementById('eaBusinessArchBtn').disabled = true;
                document.getElementById('eaDataArchBtn').disabled = false;
                break;
            case 'modelDataArch':
                document.getElementById('eaDataArchResult').style.display = 'block';
                eaSimulationState.modelDataArch = true;
                document.getElementById('eaDataArchBtn').disabled = true;
                document.getElementById('eaAppArchBtn').disabled = false;
                break;
            case 'modelAppArch':
                document.getElementById('eaAppArchResult').style.display = 'block';
                eaSimulationState.modelAppArch = true;
                document.getElementById('eaAppArchBtn').disabled = true;
                document.getElementById('eaTechArchBtn').disabled = false;
                break;
            case 'modelTechArch':
                document.getElementById('eaTechArchResult').style.display = 'block';
                eaSimulationState.modelTechArch = true;
                document.getElementById('eaTechArchBtn').disabled = true;
                document.getElementById('eaGovernanceBtn').disabled = false;
                break;
            case 'governance':
                document.getElementById('eaGovernanceResult').style.display = 'block';
                eaSimulationState.governance = true;
                document.getElementById('eaGovernanceBtn').disabled = true;
                document.getElementById('eaOptimizeBtn').disabled = false;
                break;
            case 'optimize':
                document.getElementById('eaOptimizeResult').style.display = 'block';
                eaSimulationState.optimize = true;
                document.getElementById('eaOptimizeBtn').disabled = true;
                break;
        }
    }

    function resetEASimulation() {
        eaSimulationState = {
            defineVision: false,
            modelBusinessArch: false,
            modelDataArch: false,
            modelAppArch: false,
            modelTechArch: false,
            governance: false,
            optimize: false
        };
        document.getElementById('eaVisionResult').style.display = 'none';
        document.getElementById('eaBusinessArchResult').style.display = 'none';
        document.getElementById('eaDataArchResult').style.display = 'none';
        document.getElementById('eaAppArchResult').style.display = 'none';
        document.getElementById('eaTechArchResult').style.display = 'none';
        document.getElementById('eaGovernanceResult').style.display = 'none';
        document.getElementById('eaOptimizeResult').style.display = 'none';

        document.getElementById('eaBusinessArchBtn').disabled = true;
        document.getElementById('eaDataArchBtn').disabled = true;
        document.getElementById('eaAppArchBtn').disabled = true;
        document.getElementById('eaTechArchBtn').disabled = true;
        document.getElementById('eaGovernanceBtn').disabled = true;
        document.getElementById('eaOptimizeBtn').disabled = true;
    }

    // --- Data Driven Simulation Functions ---
    function simulateDataDrivenStep(step) {
        switch (step) {
            case 'defineObjectives':
                document.getElementById('ddObjectivesResult').style.display = 'block';
                dataDrivenSimulationState.defineObjectives = true;
                document.getElementById('ddCollectIntegrateBtn').disabled = false;
                break;
            case 'collectIntegrate':
                document.getElementById('ddCollectIntegrateResult').style.display = 'block';
                dataDrivenSimulationState.collectIntegrate = true;
                document.getElementById('ddCollectIntegrateBtn').disabled = true;
                document.getElementById('ddCleanPrepareBtn').disabled = false;
                break;
            case 'cleanPrepare':
                document.getElementById('ddCleanPrepareResult').style.display = 'block';
                dataDrivenSimulationState.cleanPrepare = true;
                document.getElementById('ddCleanPrepareBtn').disabled = true;
                document.getElementById('ddAnalyzeInsightsBtn').disabled = false;
                break;
            case 'analyzeInsights':
                document.getElementById('ddAnalyzeInsightsResult').style.display = 'block';
                dataDrivenSimulationState.analyzeInsights = true;
                document.getElementById('ddAnalyzeInsightsBtn').disabled = true;
                document.getElementById('ddVisualizeCommunicateBtn').disabled = false;
                break;
            case 'visualizeCommunicate':
                document.getElementById('ddVisualizeCommunicateResult').style.display = 'block';
                dataDrivenSimulationState.visualizeCommunicate = true;
                document.getElementById('ddVisualizeCommunicateBtn').disabled = true;
                document.getElementById('ddDecisionMakingBtn').disabled = false;
                break;
            case 'decisionMaking':
                document.getElementById('ddDecisionMakingResult').style.display = 'block';
                dataDrivenSimulationState.decisionMaking = true;
                document.getElementById('ddDecisionMakingBtn').disabled = true;
                document.getElementById('ddMeasureCultureBtn').disabled = false;
                break;
            case 'measureCulture':
                document.getElementById('ddMeasureCultureResult').style.display = 'block';
                dataDrivenSimulationState.measureCulture = true;
                document.getElementById('ddMeasureCultureBtn').disabled = true;
                break;
        }
    }

    function resetDataDrivenSimulation() {
        dataDrivenSimulationState = {
            defineObjectives: false,
            collectIntegrate: false,
            cleanPrepare: false,
            analyzeInsights: false,
            visualizeCommunicate: false,
            decisionMaking: false,
            measureCulture: false
        };
        document.getElementById('ddObjectivesResult').style.display = 'none';
        document.getElementById('ddCollectIntegrateResult').style.display = 'none';
        document.getElementById('ddCleanPrepareResult').style.display = 'none';
        document.getElementById('ddAnalyzeInsightsResult').style.display = 'none';
        document.getElementById('ddVisualizeCommunicateResult').style.display = 'none';
        document.getElementById('ddDecisionMakingResult').style.display = 'none';
        document.getElementById('ddMeasureCultureResult').style.display = 'none';

        document.getElementById('ddCollectIntegrateBtn').disabled = true;
        document.getElementById('ddCleanPrepareBtn').disabled = true;
        document.getElementById('ddAnalyzeInsightsBtn').disabled = true;
        document.getElementById('ddVisualizeCommunicateBtn').disabled = true;
        document.getElementById('ddDecisionMakingBtn').disabled = true;
        document.getElementById('ddMeasureCultureBtn').disabled = true;
    }
  </script>
</body>
</html>